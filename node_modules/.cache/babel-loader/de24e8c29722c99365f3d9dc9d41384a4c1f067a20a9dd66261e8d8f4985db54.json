{"ast":null,"code":"import React,{createContext,useContext,useReducer,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const PokemonContext=/*#__PURE__*/createContext();const initialState={pokemons:[],filteredPokemons:[],loading:true,error:null};function pokemonReducer(state,action){switch(action.type){case'FETCH_SUCCESS':return{...state,pokemons:action.payload,filteredPokemons:action.payload,loading:false};case'FETCH_ERROR':return{...state,error:action.payload,loading:false};case'FILTER_POKEMONS':return{...state,filteredPokemons:action.payload};default:return state;}}export function PokemonProvider(_ref){let{children}=_ref;const[state,dispatch]=useReducer(pokemonReducer,initialState);useEffect(()=>{async function fetchPokemons(){try{const response=await fetch('https://pokeapi.co/api/v2/pokemon?limit=20');const data=await response.json();const pokemonDetails=await Promise.all(data.results.map(async pokemon=>{const res=await fetch(pokemon.url);return res.json();}));dispatch({type:'FETCH_SUCCESS',payload:pokemonDetails});}catch(error){dispatch({type:'FETCH_ERROR',payload:'Error fetching Pokemon data'});}}fetchPokemons();},[]);return/*#__PURE__*/_jsx(PokemonContext.Provider,{value:{state,dispatch},children:children});}export function usePokemonContext(){return useContext(PokemonContext);}","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","jsx","_jsx","PokemonContext","initialState","pokemons","filteredPokemons","loading","error","pokemonReducer","state","action","type","payload","PokemonProvider","_ref","children","dispatch","fetchPokemons","response","fetch","data","json","pokemonDetails","Promise","all","results","map","pokemon","res","url","Provider","value","usePokemonContext"],"sources":["/workspaces/Poke-api/src/context/PokemonContext.js"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect } from 'react';\n\nconst PokemonContext = createContext();\n\nconst initialState = {\n  pokemons: [],\n  filteredPokemons: [],\n  loading: true,\n  error: null,\n};\n\nfunction pokemonReducer(state, action) {\n  switch (action.type) {\n    case 'FETCH_SUCCESS':\n      return { ...state, pokemons: action.payload, filteredPokemons: action.payload, loading: false };\n    case 'FETCH_ERROR':\n      return { ...state, error: action.payload, loading: false };\n    case 'FILTER_POKEMONS':\n      return { ...state, filteredPokemons: action.payload };\n    default:\n      return state;\n  }\n}\n\nexport function PokemonProvider({ children }) {\n  const [state, dispatch] = useReducer(pokemonReducer, initialState);\n\n  useEffect(() => {\n    async function fetchPokemons() {\n      try {\n        const response = await fetch('https://pokeapi.co/api/v2/pokemon?limit=20');\n        const data = await response.json();\n        const pokemonDetails = await Promise.all(\n          data.results.map(async (pokemon) => {\n            const res = await fetch(pokemon.url);\n            return res.json();\n          })\n        );\n        dispatch({ type: 'FETCH_SUCCESS', payload: pokemonDetails });\n      } catch (error) {\n        dispatch({ type: 'FETCH_ERROR', payload: 'Error fetching Pokemon data' });\n      }\n    }\n    fetchPokemons();\n  }, []);\n\n  return (\n    <PokemonContext.Provider value={{ state, dispatch }}>\n      {children}\n    </PokemonContext.Provider>\n  );\n}\n\nexport function usePokemonContext() {\n  return useContext(PokemonContext);\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,aAAa,CAAEC,UAAU,CAAEC,UAAU,CAAEC,SAAS,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEhF,KAAM,CAAAC,cAAc,cAAGN,aAAa,CAAC,CAAC,CAEtC,KAAM,CAAAO,YAAY,CAAG,CACnBC,QAAQ,CAAE,EAAE,CACZC,gBAAgB,CAAE,EAAE,CACpBC,OAAO,CAAE,IAAI,CACbC,KAAK,CAAE,IACT,CAAC,CAED,QAAS,CAAAC,cAAcA,CAACC,KAAK,CAAEC,MAAM,CAAE,CACrC,OAAQA,MAAM,CAACC,IAAI,EACjB,IAAK,eAAe,CAClB,MAAO,CAAE,GAAGF,KAAK,CAAEL,QAAQ,CAAEM,MAAM,CAACE,OAAO,CAAEP,gBAAgB,CAAEK,MAAM,CAACE,OAAO,CAAEN,OAAO,CAAE,KAAM,CAAC,CACjG,IAAK,aAAa,CAChB,MAAO,CAAE,GAAGG,KAAK,CAAEF,KAAK,CAAEG,MAAM,CAACE,OAAO,CAAEN,OAAO,CAAE,KAAM,CAAC,CAC5D,IAAK,iBAAiB,CACpB,MAAO,CAAE,GAAGG,KAAK,CAAEJ,gBAAgB,CAAEK,MAAM,CAACE,OAAQ,CAAC,CACvD,QACE,MAAO,CAAAH,KAAK,CAChB,CACF,CAEA,MAAO,SAAS,CAAAI,eAAeA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC1C,KAAM,CAACL,KAAK,CAAEO,QAAQ,CAAC,CAAGlB,UAAU,CAACU,cAAc,CAAEL,YAAY,CAAC,CAElEJ,SAAS,CAAC,IAAM,CACd,cAAe,CAAAkB,aAAaA,CAAA,CAAG,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,4CAA4C,CAAC,CAC1E,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClC,KAAM,CAAAC,cAAc,CAAG,KAAM,CAAAC,OAAO,CAACC,GAAG,CACtCJ,IAAI,CAACK,OAAO,CAACC,GAAG,CAAC,KAAO,CAAAC,OAAO,EAAK,CAClC,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAT,KAAK,CAACQ,OAAO,CAACE,GAAG,CAAC,CACpC,MAAO,CAAAD,GAAG,CAACP,IAAI,CAAC,CAAC,CACnB,CAAC,CACH,CAAC,CACDL,QAAQ,CAAC,CAAEL,IAAI,CAAE,eAAe,CAAEC,OAAO,CAAEU,cAAe,CAAC,CAAC,CAC9D,CAAE,MAAOf,KAAK,CAAE,CACdS,QAAQ,CAAC,CAAEL,IAAI,CAAE,aAAa,CAAEC,OAAO,CAAE,6BAA8B,CAAC,CAAC,CAC3E,CACF,CACAK,aAAa,CAAC,CAAC,CACjB,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEhB,IAAA,CAACC,cAAc,CAAC4B,QAAQ,EAACC,KAAK,CAAE,CAAEtB,KAAK,CAAEO,QAAS,CAAE,CAAAD,QAAA,CACjDA,QAAQ,CACc,CAAC,CAE9B,CAEA,MAAO,SAAS,CAAAiB,iBAAiBA,CAAA,CAAG,CAClC,MAAO,CAAAnC,UAAU,CAACK,cAAc,CAAC,CACnC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}